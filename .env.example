# ============================================================
# Environment Variables Template
# ============================================================
# Copy this file to .env and fill in actual values:
#   cp .env.example .env
#
# Note: .env should be in .gitignore to avoid leaking secrets
# ============================================================

# Runtime environment (development/staging/production)
ENVIRONMENT=development

# ============================================================
# Kafka Configuration
# ============================================================
KAFKA_BOOTSTRAP_SERVERS=broker:29092
KAFKA_TOPIC_USER_DATA=user_data
KAFKA_TOPIC_DLQ=user_data_dlq

# Producer settings
# acks: "0"=no wait, "1"=wait for leader, "all"=wait for all replicas
KAFKA_ACKS=all
KAFKA_RETRIES=3
KAFKA_MAX_BLOCK_MS=5000

# Batching (performance optimization)
# batch_size: batch size in bytes
# linger_ms: time to wait for batch to fill (ms)
KAFKA_BATCH_SIZE=16384
KAFKA_LINGER_MS=10

# ============================================================
# Cassandra Configuration
# ============================================================
CASSANDRA_HOSTS=cassandra
CASSANDRA_PORT=9042
CASSANDRA_KEYSPACE=spark_streams
CASSANDRA_TABLE=created_users

# Replication (use at least 3 in production)
CASSANDRA_REPLICATION_FACTOR=1

# Authentication (if needed)
# CASSANDRA_USERNAME=cassandra
# CASSANDRA_PASSWORD=cassandra

# ============================================================
# Spark Configuration
# ============================================================
SPARK_APP_NAME=UserDataStreaming
SPARK_MASTER=spark://spark-master:7077
SPARK_LOG_LEVEL=WARN

# Checkpoint (use HDFS/S3 in production)
SPARK_CHECKPOINT_LOCATION=/tmp/checkpoint

# ============================================================
# API Configuration
# ============================================================
API_BASE_URL=https://randomuser.me/api/
API_TIMEOUT_SECONDS=30
API_MAX_RETRIES=3
API_RETRY_BASE_DELAY=1.0

# ============================================================
# Retry Configuration
# ============================================================
RETRY_MAX_RETRIES=3
RETRY_BASE_DELAY=1.0
RETRY_MAX_DELAY=60.0
RETRY_EXPONENTIAL_BASE=2.0

# ============================================================
# Logging Configuration
# ============================================================
# Level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# JSON format (true for production, false for development)
LOG_JSON_FORMAT=false

# ============================================================
# Streaming Behavior
# ============================================================
# Duration per DAG run (seconds)
STREAMING_DURATION_SECONDS=60
